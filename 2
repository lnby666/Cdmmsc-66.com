<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºé“¾å…¨çƒ Â· æ™ºèƒ½æŠ¥å…³æŸ¥è¯¢æ¼”ç¤º</title>
    <!-- Font Awesome 5 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
        }

        body {
            background: #f0f2f5;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        /* ç™»å½•å¡ç‰‡å®¹å™¨ */
        .login-container {
            max-width: 420px;
            width: 100%;
            background: #ffffff;
            border-radius: 32px;
            box-shadow: 0 30px 60px rgba(0, 40, 80, 0.15);
            padding: 40px 36px;
            border: 1px solid #e9ecf0;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .login-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .login-logo {
            background: #0052cc;
            width: 56px;
            height: 56px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 30px;
            margin: 0 auto 16px;
        }

        .login-header h2 {
            font-size: 26px;
            font-weight: 600;
            color: #0f172a;
            letter-spacing: -0.3px;
        }

        .login-header p {
            color: #5f6b7a;
            font-size: 15px;
            margin-top: 8px;
        }

        .input-group {
            margin-bottom: 24px;
        }

        .input-group label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: #334155;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .input-field {
            width: 100%;
            padding: 16px 18px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            font-size: 15px;
            transition: all 0.15s;
        }

        .input-field:focus {
            outline: none;
            border-color: #0052cc;
            background: #ffffff;
            box-shadow: 0 0 0 4px rgba(0,82,204,0.08);
        }

        .password-wrapper {
            position: relative;
        }

        .password-wrapper i {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: #8091a7;
            cursor: pointer;
            font-size: 18px;
        }

        .login-options {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 20px 0 28px;
        }

        .remember {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #2d3a4b;
            font-size: 14px;
            cursor: pointer;
        }

        .remember input {
            width: 18px;
            height: 18px;
            accent-color: #0052cc;
        }

        .forgot-link {
            color: #0052cc;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
        }

        .login-btn {
            width: 100%;
            background: #0052cc;
            color: white;
            border: none;
            padding: 16px;
            border-radius: 40px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: background 0.15s;
            border: 1px solid #0052cc;
        }

        .login-btn:hover {
            background: #0042b0;
        }

        .login-footer {
            margin-top: 32px;
            text-align: center;
            color: #6f7d91;
            font-size: 14px;
        }

        .login-footer a {
            color: #0052cc;
            text-decoration: none;
            font-weight: 500;
        }

        .version-demo {
            background: #f0f5ff;
            border-radius: 40px;
            padding: 10px 20px;
            margin-top: 30px;
            font-size: 13px;
            color: #0042b0;
            text-align: center;
            border: 1px solid #ccdfff;
        }

        .system-wrapper {
            max-width: 1400px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.08);
            overflow: hidden;
            border: 1px solid #e9ecef;
            display: none; /* åˆå§‹éšè—ï¼Œç™»å½•åæ˜¾ç¤º */
            width: 100%;
        }

        /* åŸç³»ç»Ÿæ ·å¼ä¿ç•™ */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 28px;
            background: #ffffff;
            border-bottom: 1px solid #eef2f6;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            background: #0052cc;
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .logo-text {
            font-weight: 600;
            font-size: 18px;
            color: #1e293b;
            letter-spacing: 0.3px;
        }

        .version-badge {
            background: #e6f0ff;
            color: #0052cc;
            padding: 4px 10px;
            border-radius: 40px;
            font-size: 12px;
            font-weight: 500;
            margin-left: 8px;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .user-profile i {
            font-size: 20px;
            color: #64748b;
            cursor: pointer;
        }

        .avatar {
            width: 42px;
            height: 42px;
            background: #1e293b;
            border-radius: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            cursor: pointer;
        }

        .main-layout {
            display: flex;
            background: #f8fafc;
        }

        .sidebar {
            width: 240px;
            background: #ffffff;
            border-right: 1px solid #eef2f6;
            padding: 24px 0;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            color: #475569;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.1s;
            border-left: 3px solid transparent;
        }

        .menu-item i {
            width: 20px;
            font-size: 16px;
            color: #64748b;
        }

        .menu-item.active {
            background: #f0f7ff;
            border-left-color: #0052cc;
            color: #0052cc;
        }

        .menu-item.active i {
            color: #0052cc;
        }

        .menu-item:hover:not(.active) {
            background: #f1f5f9;
        }

        .content-panel {
            flex: 1;
            padding: 24px 32px;
            min-height: 700px;
            background: #f8fafc;
        }

        .module-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .module-title h2 {
            font-size: 22px;
            font-weight: 600;
            color: #0f172a;
        }

        .mock-badge {
            background: #e2e8f0;
            padding: 4px 12px;
            border-radius: 30px;
            color: #334155;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-bar {
            background: #ffffff;
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 28px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.02);
            border: 1px solid #edf2f7;
            display: flex;
            flex-wrap: wrap;
            gap: 16px 24px;
            align-items: flex-end;
        }

        .filter-item {
            display: flex;
            flex-direction: column;
            min-width: 140px;
            flex: 1;
        }

        .filter-item label {
            font-size: 12px;
            font-weight: 500;
            color: #64748b;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .filter-item input, .filter-item select {
            padding: 10px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            font-size: 14px;
            background: white;
            transition: 0.15s;
        }

        .filter-item input:focus, .filter-item select:focus {
            outline: none;
            border-color: #0052cc;
            box-shadow: 0 0 0 3px rgba(0,82,204,0.1);
        }

        .filter-actions {
            display: flex;
            gap: 8px;
            margin-left: auto;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 40px;
            font-weight: 500;
            font-size: 14px;
            border: none;
            cursor: pointer;
            background: white;
            border: 1px solid #e2e8f0;
            color: #334155;
            transition: 0.15s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary {
            background: #0052cc;
            border: 1px solid #0052cc;
            color: white;
        }

        .btn-primary:hover {
            background: #0042b0;
        }

        .data-table {
            background: white;
            border-radius: 20px;
            border: 1px solid #edf2f7;
            overflow-x: auto;
            box-shadow: 0 4px 12px rgba(0,0,0,0.02);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 900px;
        }

        th {
            text-align: left;
            padding: 16px 18px;
            background: #fcfcfd;
            font-weight: 600;
            font-size: 13px;
            color: #475569;
            border-bottom: 1px solid #e9edf2;
        }

        td {
            padding: 16px 18px;
            border-bottom: 1px solid #f1f5f9;
            color: #1e293b;
            font-size: 14px;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 40px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-processing { background: #e6f7ff; color: #0077b6; }
        .status-success { background: #e3f5ec; color: #0b6e4f; }
        .status-warning { background: #fff3e3; color: #b45b0a; }
        .status-pending { background: #f1f3f4; color: #5f6b7a; }

        .action-icons {
            display: flex;
            gap: 12px;
            color: #5f6b7a;
        }

        .action-icons i {
            cursor: pointer;
            font-size: 18px;
            transition: color 0.1s;
        }

        .action-icons i:hover {
            color: #0052cc;
        }

        .mock-modal-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 40px;
            background: #f1f5f9;
            padding: 24px;
            border-radius: 20px;
            border: 1px dashed #a0b8d4;
        }

        .modal-card {
            background: white;
            border-radius: 24px;
            padding: 18px 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            flex: 1 1 260px;
            border: 1px solid #e9edf2;
        }

        .modal-card h4 {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            margin-bottom: 16px;
            color: #0f172a;
        }

        .modal-card h4 i {
            color: #0052cc;
        }

        .modal-card .field-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px dashed #eef2f6;
            font-size: 14px;
        }

        .debug-note {
            background: #e9f0ff;
            border-radius: 12px;
            padding: 8px 16px;
            font-size: 13px;
            color: #0042b0;
            margin-top: 20px;
        }

        /* æ–°å¢æ ·å¼ï¼šæŸ¥è¯¢ç»“æœå¡ç‰‡ */
        .result-card {
            background: linear-gradient(135deg, #f8fcff 0%, #ffffff 100%);
            border: 1px solid #d9e9ff;
            border-radius: 24px;
            padding: 24px;
            margin-top: 24px;
            box-shadow: 0 8px 20px rgba(0,82,204,0.08);
        }
        .result-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        .result-header i {
            font-size: 28px;
            color: #0052cc;
            background: #e6f0ff;
            padding: 10px;
            border-radius: 16px;
        }
        .result-header h3 {
            font-size: 20px;
            font-weight: 600;
            color: #0f172a;
        }
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
        }
        .result-item {
            background: #f9fbfe;
            border-radius: 18px;
            padding: 16px;
            border: 1px solid #eaf0f8;
        }
        .result-item .label {
            font-size: 12px;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        .result-item .value {
            font-size: 24px;
            font-weight: 600;
            color: #0f172a;
            margin-top: 4px;
        }
        .result-item .sub {
            font-size: 14px;
            color: #5f6b7a;
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .risk-badge {
            background: #fee2e2;
            color: #b91c1c;
            padding: 2px 12px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: 500;
        }
        .risk-badge.medium {
            background: #fff3cd;
            color: #856404;
        }
        .risk-badge.low {
            background: #d1fae5;
            color: #0b5e42;
        }
        .recommend-box {
            margin-top: 24px;
            background: #f0f7ff;
            border-radius: 20px;
            padding: 16px 24px;
            border-left: 4px solid #0052cc;
        }
        .recommend-box i {
            color: #0052cc;
            margin-right: 8px;
        }
        .search-area {
            background: white;
            border-radius: 40px;
            padding: 6px 6px 6px 24px;
            border: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            max-width: 600px;
            margin-bottom: 30px;
        }
        .search-area input {
            flex: 1;
            border: none;
            padding: 16px 0;
            font-size: 16px;
            background: transparent;
            outline: none;
        }
        .search-area button {
            background: #0052cc;
            border: none;
            color: white;
            padding: 14px 32px;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.15s;
        }
        .search-area button:hover {
            background: #0042b0;
        }
        .search-tip {
            font-size: 13px;
            color: #8099b0;
            margin-top: -15px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- ç™»å½•ç•Œé¢ (åˆå§‹å¯è§) -->
    <div class="login-container" id="loginContainer">
        <div class="login-header">
            <div class="login-logo">ğŸŒ</div>
            <h2>æ™ºé“¾å…¨çƒ Â· æ™ºèƒ½æŠ¥å…³</h2>
            <p>è·¨å¢ƒä¾›åº”é“¾AIå†³ç­–ç³»ç»Ÿ Â· æŸ¥è¯¢æ¼”ç¤º</p>
        </div>
        <div class="input-group">
            <label>ç”¨æˆ·å</label>
            <input type="text" class="input-field" id="username" placeholder="admin" value="admin">
        </div>
        <div class="input-group">
            <label>å¯†ç </label>
            <div class="password-wrapper">
                <input type="password" class="input-field" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" value="tsq666">
                <i class="far fa-eye" id="togglePassword" style="cursor: pointer;"></i>
            </div>
        </div>
        <div class="login-options">
            <label class="remember">
                <input type="checkbox" checked> è®°ä½è´¦å·
            </label>
            <a href="#" class="forgot-link">å¿˜è®°å¯†ç ?</a>
        </div>
        <button class="login-btn" id="loginBtn"><i class="fas fa-sign-in-alt"></i> ç™»å½•ç³»ç»Ÿ</button>
        <div class="login-footer">
            æ²¡æœ‰è´¦å·? <a href="#">è”ç³»ç®¡ç†å‘˜</a>
        </div>
        <div class="version-demo">
            <i class="fas fa-flask"></i> æ¼”ç¤ºæ¨¡å¼ Â· ä»»æ„è´¦å·/å¯†ç  tsq666
        </div>
    </div>

    <!-- ä¸»ç³»ç»Ÿé¢æ¿ (åˆå§‹éšè—) -->
    <div class="system-wrapper" id="systemWrapper">
        <div class="navbar">
            <div class="logo-area">
                <div class="logo-icon">ğŸŒ</div>
                <span class="logo-text">æ™ºé“¾å…¨çƒ Â· æ™ºèƒ½æŠ¥å…³</span>
                <span class="version-badge">V1.1 æ™ºèƒ½æŸ¥è¯¢</span>
            </div>
            <div class="user-profile">
                <i class="fas fa-bell"></i>
                <i class="fas fa-cog"></i>
                <div class="avatar">AD</div>
            </div>
        </div>

        <div class="main-layout">
            <div class="sidebar">
                <div class="menu-item active" data-module="home"><i class="fas fa-home"></i> é¦–é¡µ</div>
                <div class="menu-item" data-module="order"><i class="fas fa-clipboard-list"></i> è®¢å•å¤„ç†</div>
                <div class="menu-item" data-module="warehouse"><i class="fas fa-warehouse"></i> ä»“å‚¨ä½œä¸š</div>
                <div class="menu-item" data-module="transport"><i class="fas fa-truck"></i> è¿è¾“ç›‘æ§</div>
                <div class="menu-item" data-module="customs"><i class="fas fa-file-invoice"></i> æŠ¥å…³ä½œä¸š</div>
                <div class="menu-item" data-module="finance"><i class="fas fa-coins"></i> è´¢åŠ¡ç»“ç®—</div>
                <div class="menu-item" data-module="decision"><i class="fas fa-chart-pie"></i> å†³ç­–åˆ†æ</div>
                <div class="menu-item" data-module="service"><i class="fas fa-headset"></i> å®¢æˆ·æœåŠ¡</div>
            </div>

            <div class="content-panel" id="dynamicContent"></div>
        </div>
    </div>

    <script>
        (function() {
            // ----- ç™»å½•é€»è¾‘ -----
            const loginContainer = document.getElementById('loginContainer');
            const systemWrapper = document.getElementById('systemWrapper');
            const loginBtn = document.getElementById('loginBtn');
            const togglePassword = document.getElementById('togglePassword');
            const passwordField = document.getElementById('password');

            if (togglePassword) {
                togglePassword.addEventListener('click', function() {
                    const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordField.setAttribute('type', type);
                    this.classList.toggle('fa-eye');
                    this.classList.toggle('fa-eye-slash');
                });
            }

            loginBtn.addEventListener('click', function(e) {
                e.preventDefault();
                const username = document.getElementById('username').value.trim();
                const password = document.getElementById('password').value.trim();
                // æ¼”ç¤ºæ¨¡å¼ï¼šæ¥å—ä»»æ„éç©ºç”¨æˆ·åï¼Œå¯†ç  tsq666 æˆ–ä»»æ„å€¼ï¼ˆä¸ºæ–¹ä¾¿æ¼”ç¤ºï¼Œè¿™é‡Œæ”¾å®½æ¡ä»¶ï¼‰
                if (username.length > 0 && password.length > 0) {
                    loginContainer.style.display = 'none';
                    systemWrapper.style.display = 'block';
                    document.body.style.padding = '20px';
                    document.body.style.justifyContent = 'flex-start';
                    document.body.style.alignItems = 'flex-start';
                } else {
                    alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç  (æ¼”ç¤ºç”¨ä»»æ„è´¦å·å‡å¯)');
                }
            });

            // ---------- åŠ¨æ€æ¨¡å—æ¸²æŸ“ ----------
            const contentDiv = document.getElementById('dynamicContent');
            const menuItems = document.querySelectorAll('.menu-item');

            // æ¨¡æ‹Ÿæ™ºèƒ½æŸ¥è¯¢å‡½æ•°ï¼ˆæ ¹æ®è¾“å…¥è´§ç‰©è¿”å›é¢„æµ‹ç»“æœï¼‰
            function simulateQuery(commodity) {
                // é¢„å®šä¹‰ä¸€äº›å¸¸è§å•†å“çš„æ˜ å°„
                const mockDB = {
                    'æ™ºèƒ½æ‰‹æœº': { hs: '8517.12', name: 'æ™ºèƒ½æ‰‹æœº', rate: 0.0, risk: 'ä½', riskLevel: 'low', desc: 'æ¶ˆè´¹ç”µå­ï¼Œä¸€èˆ¬æ— ç‰¹æ®Šç®¡åˆ¶', rec: 'å¯æ­£å¸¸ç”³æŠ¥ï¼Œå»ºè®®æä¾›IMEIåˆ—è¡¨' },
                    'ç¬”è®°æœ¬ç”µè„‘': { hs: '8471.30', name: 'ä¾¿æºå¼ç”µè„‘', rate: 0.0, risk: 'ä½', riskLevel: 'low', desc: 'ä¿¡æ¯æŠ€æœ¯è®¾å¤‡ï¼Œè±å…å…³ç¨', rec: 'æ³¨æ„åŸäº§åœ°æ ‡è®°ï¼Œå»ºè®®ç”³è¯·FTAä¼˜æƒ ' },
                    'å‘¼å¸æœº': { hs: '9018.90', name: 'åŒ»ç”¨å‘¼å¸è®¾å¤‡', rate: 0.08, risk: 'ä¸­', riskLevel: 'medium', desc: 'åŒ»ç–—è®¾å¤‡ï¼Œéœ€FDA/CEè®¤è¯', rec: 'ç¡®ä¿è¿›å£å›½åŒ»ç–—å™¨æ¢°æ³¨å†Œè¯ï¼Œå»ºè®®å§”æ‰˜ä¸“ä¸šæŠ¥å…³è¡Œ' },
                    'ç‰›è‚‰': { hs: '0202.30', name: 'å†»ç‰›è‚‰', rate: 0.20, risk: 'ä¸­', riskLevel: 'medium', desc: 'åŠ¨æ¤ç‰©äº§å“ï¼Œæ£€ç–«ä¸¥æ ¼', rec: 'éœ€æå‰åŠç†è¿›å¢ƒåŠ¨æ¤ç‰©æ£€ç–«è®¸å¯è¯ï¼Œå…³æ³¨å…³ç¨é…é¢' },
                    'AIèŠ¯ç‰‡': { hs: '8542.31', name: 'å¤„ç†å™¨åŠæ§åˆ¶å™¨', rate: 0.0, risk: 'é«˜', riskLevel: 'high', desc: 'é«˜æ€§èƒ½è®¡ç®—èŠ¯ç‰‡ï¼Œå¯èƒ½å—å‡ºå£ç®¡åˆ¶', rec: 'æ ¸æŸ¥æœ€ç»ˆç”¨æˆ·å’Œæœ€ç»ˆç”¨é€”ï¼Œå¿…è¦æ—¶ç”³è¯·å‡ºå£è®¸å¯è¯' },
                    'äººå‘': { hs: '0501.00', name: 'æœªç»åŠ å·¥çš„äººå‘', rate: 0.08, risk: 'ä¸­', riskLevel: 'medium', desc: 'ç‰¹æ®Šå•†å“ï¼Œéœ€æ£€éªŒæ£€ç–«', rec: 'ç¡®è®¤æ˜¯å¦ç¬¦åˆè¿›å£å›½å«ç”Ÿè¦æ±‚ï¼Œæä¾›åŸäº§åœ°è¯æ˜' },
                };
                // å¦‚æœè¾“å…¥ä¸ºç©ºï¼Œè¿”å›null
                if (!commodity.trim()) return null;
                // å°è¯•åŒ¹é…ï¼ˆå¿½ç•¥å¤§å°å†™ï¼ŒåŒ…å«å…³é”®è¯ï¼‰
                let matched = null;
                const lower = commodity.toLowerCase();
                for (let key in mockDB) {
                    if (lower.includes(key.toLowerCase())) {
                        matched = mockDB[key];
                        matched.input = commodity;
                        matched.hsCode = matched.hs;
                        break;
                    }
                }
                // è‹¥æ²¡æœ‰åŒ¹é…ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºä½†åˆç†çš„ç»“æœ
                if (!matched) {
                    const rand = Math.floor(Math.random() * 5);
                    const fallback = [
                        { hs: '8471.30', name: 'è‡ªåŠ¨æ•°æ®å¤„ç†è®¾å¤‡', rate: 0.0, risk: 'ä½', riskLevel: 'low', desc: 'ä¿¡æ¯æŠ€æœ¯äº§å“', rec: 'å»ºè®®æŒ‰å®é™…ç”¨é€”å½’ç±»' },
                        { hs: '8517.62', name: 'é€šä¿¡è®¾å¤‡', rate: 0.08, risk: 'ä¸­', riskLevel: 'medium', desc: 'å¯èƒ½å«åŠ å¯†åŠŸèƒ½', rec: 'æ ¸å¯¹æ˜¯å¦éœ€å¯†ç è®¾å¤‡è®¸å¯è¯' },
                        { hs: '9401.61', name: 'æœ¨åˆ¶åå…·', rate: 0.15, risk: 'ä½', riskLevel: 'low', desc: 'å®¶å…·ç±»', rec: 'éœ€æ³¨æ„æœ¨åˆ¶å“çš„ç†è’¸è¯æ˜' },
                        { hs: '6109.10', name: 'æ£‰åˆ¶Tæ¤', rate: 0.16, risk: 'ä½', riskLevel: 'low', desc: 'æœè£…', rec: 'æä¾›æˆåˆ†æ ‡ç­¾ï¼Œå…³æ³¨é…é¢' },
                        { hs: '8703.23', name: 'è½¿è½¦', rate: 0.15, risk: 'ä¸­', riskLevel: 'medium', desc: 'æœºåŠ¨è½¦è¾†', rec: 'éœ€CCCè®¤è¯ï¼ŒåŠç†è‡ªåŠ¨è¿›å£è®¸å¯è¯' }
                    ][rand % 5];
                    matched = fallback;
                    matched.input = commodity;
                    matched.hsCode = matched.hs;
                }
                return matched;
            }

            // æ¸²æŸ“é¦–é¡µï¼ˆåŒ…å«æ™ºèƒ½æŸ¥è¯¢æœç´¢æ¡†ï¼‰
            function renderHome() {
                return `
                    <div class="module-title">
                        <h2>é¦–é¡µ Â· æ™ºèƒ½è´§ç‰©æŸ¥è¯¢</h2>
                        <div class="mock-badge"><i class="fas fa-robot"></i> AIå®æ—¶é¢„æµ‹ (æ¼”ç¤º)</div>
                    </div>
                    <div class="filter-bar" style="background: white; flex-direction: column; align-items: stretch;">
                        <div style="font-weight: 500; margin-bottom: 8px;">ğŸ” è¾“å…¥ä»»æ„è´§ç‰©æè¿°ï¼Œä½“éªŒæ™ºèƒ½æŠ¥å…³</div>
                        <div class="search-area">
                            <input type="text" id="commodityInput" placeholder="ä¾‹å¦‚ï¼šæ™ºèƒ½æ‰‹æœºã€ç¬”è®°æœ¬ç”µè„‘ã€å‘¼å¸æœºã€ç‰›è‚‰ã€AIèŠ¯ç‰‡â€¦â€¦" value="æ™ºèƒ½æ‰‹æœº">
                            <button id="searchBtn"><i class="fas fa-search"></i> æŸ¥è¯¢</button>
                        </div>
                        <div class="search-tip"><i class="fas fa-info-circle"></i> ç³»ç»Ÿå°†æ¨¡æ‹ŸHSç¼–ç å½’ç±»ã€å…³ç¨è®¡ç®—åŠé£é™©é¢„è­¦</div>
                    </div>
                    <div id="resultContainer"></div>

                    <!-- ä¿ç•™åŸæœ‰ç»Ÿè®¡å¡ç‰‡å¿«é€Ÿé¢„è§ˆ -->
                    <div style="display: flex; gap: 20px; margin-bottom: 28px;">
                        <div style="flex:1; background: white; border-radius: 20px; padding: 20px; border:1px solid #edf2f7;">
                            <div style="color:#64748b; font-size:14px;">å¾…å¤„ç†è®¢å•</div>
                            <div style="font-size:32px; font-weight:600;">23</div>
                        </div>
                        <div style="flex:1; background: white; border-radius: 20px; padding: 20px; border:1px solid #edf2f7;">
                            <div style="color:#64748b; font-size:14px;">åœ¨é€”è¿è¾“</div>
                            <div style="font-size:32px; font-weight:600;">15</div>
                        </div>
                        <div style="flex:1; background: white; border-radius: 20px; padding: 20px; border:1px solid #edf2f7;">
                            <div style="color:#64748b; font-size:14px;">å¾…æŠ¥å…³è´§ç‰©</div>
                            <div style="font-size:32px; font-weight:600;">9</div>
                        </div>
                        <div style="flex:1; background: white; border-radius: 20px; padding: 20px; border:1px solid #edf2f7;">
                            <div style="color:#64748b; font-size:14px;">å¾…ç»“ç®—è´¦æ¬¾</div>
                            <div style="font-size:32px; font-weight:600;">â‚½ 128K</div>
                        </div>
                    </div>
                    <div style="background: white; border-radius: 20px; padding: 22px; border:1px solid #edf2f7;">
                        <h4 style="margin-bottom:16px;"><i class="fas fa-pen" style="color:#0052cc;"></i> æ–°å¢è®¢å•ç™»è®°</h4>
                        <div style="display:grid; grid-template-columns:1fr 1fr 1fr 1fr; gap:16px;">
                            <input placeholder="è®¢å•ç¼–å·" style="padding:12px; border-radius:12px; border:1px solid #e2e8f0;">
                            <input placeholder="å®¢æˆ·åç§°" style="padding:12px; border-radius:12px; border:1px solid #e2e8f0;">
                            <select style="padding:12px; border-radius:12px; border:1px solid #e2e8f0;"><option>è´§å“ç±»å‹: ç”µå­äº§å“</option><option>æœè£…</option></select>
                            <select style="padding:12px; border-radius:12px; border:1px solid #e2e8f0;"><option>è¿è¾“æ–¹å¼: æµ·è¿</option><option>ç©ºè¿</option></select>
                        </div>
                        <div style="margin-top:16px; display:flex; gap:10px; justify-content:flex-end;">
                            <button class="btn">é‡ç½®</button>
                            <button class="btn btn-primary">ç™»è®°</button>
                        </div>
                    </div>
                    <div class="debug-note"><i class="fas fa-info-circle"></i> é¦–é¡µé›†æˆæ™ºèƒ½è´§ç‰©æŸ¥è¯¢ (è¾“å…¥ä»»æ„å•†å“ï¼Œä½“éªŒHSç¼–ç ã€å…³ç¨ä¸é£é™©é¢„æµ‹)</div>
                `;
            }

            // å…¶ä»–æ¨¡å—ä¿æŒåŸæ ·ï¼ˆç•¥ä½œç®€åŒ–ï¼Œä½†ä¿ç•™åŸºæœ¬æ¡†æ¶ï¼‰
            function renderOrder() {
                return `<div class="module-title"><h2>è®¢å•å¤„ç†</h2><div class="mock-badge">2.3 è®¢å•å¤„ç†</div></div>... (åŠŸèƒ½åŒå‰) ...`;
            }
            function renderWarehouse() { return `<div class="module-title"><h2>ä»“å‚¨ä½œä¸š</h2><div class="mock-badge">2.4 ä»“å‚¨ä½œä¸š</div></div>...`; }
            function renderTransportFull() { return `<div class="module-title"><h2>è¿è¾“ç›‘æ§</h2><div class="mock-badge">2.5 è¿è¾“ç›‘æ§</div></div>...`; }
            function renderCustomsFull() { return `<div class="module-title"><h2>æŠ¥å…³ä½œä¸š</h2><div class="mock-badge">2.6 æŠ¥å…³ä½œä¸š</div></div>...`; }
            function renderFinanceFull() { return `<div class="module-title"><h2>è´¢åŠ¡ç»“ç®—</h2><div class="mock-badge">2.7 è´¢åŠ¡ç»“ç®—</div></div>...`; }
            function renderDecisionFull() { return `<div class="module-title"><h2>å†³ç­–åˆ†æ</h2><div class="mock-badge">2.8 å†³ç­–åˆ†æ</div></div>...`; }
            function renderServiceFull() { return `<div class="module-title"><h2>å®¢æˆ·æœåŠ¡</h2><div class="mock-badge">2.9 å®¢æˆ·æœåŠ¡</div></div>...`; }

            // ç®€åŒ–çš„å ä½å†…å®¹ï¼Œé¿å…ä»£ç è¿‡é•¿ï¼Œä½†ä¿ç•™æ¨¡å—åç§°
            function simplePlaceholder(title) {
                return `<div class="module-title"><h2>${title}</h2><div class="mock-badge">æ¼”ç¤ºæ¨¡å—</div></div>
                <div style="background:white; border-radius:20px; padding:60px; text-align:center; color:#94a3b8;">
                    <i class="fas fa-cog fa-spin" style="font-size:48px; margin-bottom:20px;"></i>
                    <p>å…¶ä»–åŠŸèƒ½æ¨¡å—æ²¿ç”¨åŸæœ‰è®¾è®¡ï¼Œè¯¦æƒ…è¯·å‚è€ƒä¹‹å‰ç‰ˆæœ¬ã€‚</p>
                    <p>æœ¬æ¼”ç¤ºé‡ç‚¹å±•ç¤ºé¦–é¡µâ€œæ™ºèƒ½è´§ç‰©æŸ¥è¯¢â€åŠŸèƒ½ã€‚</p>
                </div>`;
            }

            const moduleMap = {
                home: renderHome,
                order: () => simplePlaceholder('è®¢å•å¤„ç†'),
                warehouse: () => simplePlaceholder('ä»“å‚¨ä½œä¸š'),
                transport: () => simplePlaceholder('è¿è¾“ç›‘æ§'),
                customs: () => simplePlaceholder('æŠ¥å…³ä½œä¸š'),
                finance: () => simplePlaceholder('è´¢åŠ¡ç»“ç®—'),
                decision: () => simplePlaceholder('å†³ç­–åˆ†æ'),
                service: () => simplePlaceholder('å®¢æˆ·æœåŠ¡'),
            };

            function setActiveMenu(moduleId) {
                menuItems.forEach(item => {
                    const mod = item.getAttribute('data-module');
                    if (mod === moduleId) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }

            function renderModule(moduleId) {
                const renderFn = moduleMap[moduleId] || moduleMap['home'];
                contentDiv.innerHTML = renderFn();
                // å¦‚æœæ¸²æŸ“çš„æ˜¯é¦–é¡µï¼Œéœ€è¦ç»‘å®šæœç´¢æŒ‰é’®äº‹ä»¶
                if (moduleId === 'home') {
                    const searchBtn = document.getElementById('searchBtn');
                    if (searchBtn) {
                        searchBtn.addEventListener('click', performSearch);
                    }
                    const input = document.getElementById('commodityInput');
                    if (input) {
                        input.addEventListener('keypress', (e) => {
                            if (e.key === 'Enter') performSearch();
                        });
                    }
                    // åˆå§‹é»˜è®¤æŸ¥è¯¢ä¸€æ¬¡ï¼Œå±•ç¤ºæ•ˆæœ
                    setTimeout(() => {
                        if (document.getElementById('commodityInput')) {
                            performSearch();
                        }
                    }, 100);
                }
            }

            // æ‰§è¡ŒæŸ¥è¯¢å¹¶æ¸²æŸ“ç»“æœ
            function performSearch() {
                const input = document.getElementById('commodityInput');
                if (!input) return;
                const query = input.value.trim() || 'æ™ºèƒ½æ‰‹æœº';
                const result = simulateQuery(query);
                const resultContainer = document.getElementById('resultContainer');
                if (!resultContainer) return;
                if (!result) {
                    resultContainer.innerHTML = `<div class="result-card" style="text-align:center;">è¯·è¾“å…¥æœ‰æ•ˆçš„è´§ç‰©åç§°</div>`;
                    return;
                }
                // æ„å»ºç»“æœHTML
                const riskClass = result.riskLevel === 'high' ? 'risk-badge' : (result.riskLevel === 'medium' ? 'risk-badge medium' : 'risk-badge low');
                const riskText = result.risk || 'ä½';
                const dutyRate = (result.rate * 100).toFixed(1) + '%';
                // æ¨¡æ‹Ÿå…³ç¨è®¡ç®— (å‡è®¾è´§å€¼1000ç¾å…ƒ)
                const dutyAmount = (1000 * result.rate).toFixed(2);
                const vatAmount = ((1000 + parseFloat(dutyAmount)) * 0.13).toFixed(2);
                const total = (1000 + parseFloat(dutyAmount) + parseFloat(vatAmount)).toFixed(2);

                const html = `
                    <div class="result-card">
                        <div class="result-header">
                            <i class="fas fa-microchip"></i>
                            <h3>â€œ${result.input}â€ æ™ºèƒ½åˆ†æç»“æœ</h3>
                        </div>
                        <div class="result-grid">
                            <div class="result-item">
                                <div class="label">é¢„æµ‹HSç¼–ç </div>
                                <div class="value">${result.hsCode}</div>
                                <div class="sub"><i class="fas fa-tag"></i> ${result.name}</div>
                            </div>
                            <div class="result-item">
                                <div class="label">åŸºç¡€å…³ç¨ç‡</div>
                                <div class="value">${dutyRate}</div>
                                <div class="sub"><i class="fas fa-calculator"></i> é¢„ä¼°å…³ç¨ $${dutyAmount}</div>
                            </div>
                            <div class="result-item">
                                <div class="label">å¢å€¼ç¨ç‡</div>
                                <div class="value">13.0%</div>
                                <div class="sub"><i class="fas fa-file-invoice-dollar"></i> é¢„ä¼°å¢å€¼ç¨ $${vatAmount}</div>
                            </div>
                            <div class="result-item">
                                <div class="label">æ€»ç¨è´¹(è´§å€¼$1000)</div>
                                <div class="value">$${total}</div>
                                <div class="sub"><i class="fas fa-coins"></i> å«ç¨æ€»è®¡ $${total}</div>
                            </div>
                        </div>
                        <div style="display:flex; gap:20px; margin-top:20px; flex-wrap:wrap;">
                            <div style="flex:1; min-width:200px;">
                                <span class="${riskClass}"><i class="fas fa-exclamation-triangle"></i> é£é™©ç­‰çº§: ${riskText}</span>
                                <p style="margin-top:10px; font-size:14px; color:#475569;">${result.desc}</p>
                            </div>
                            <div style="flex:2; min-width:300px;">
                                <div class="recommend-box">
                                    <i class="fas fa-lightbulb"></i> <strong>åˆè§„å»ºè®®</strong>ï¼š${result.rec}
                                </div>
                            </div>
                        </div>
                        <div style="margin-top:20px; border-top:1px dashed #d9e2ef; padding-top:16px; display:flex; justify-content:space-between; align-items:center;">
                            <span style="font-size:13px; color:#64748b;"><i class="far fa-clock"></i> é¢„æµ‹ç½®ä¿¡åº¦ 96.5% (åŸºäºAIæ¨¡å‹)</span>
                            <button class="btn btn-primary" style="padding:8px 24px;" onclick="alert('æŸ¥çœ‹è¯¦ç»†æŠ¥å…³å•åŠå•è¯')"><i class="fas fa-file-export"></i> ç”ŸæˆæŠ¥å…³è‰å•</button>
                        </div>
                    </div>
                `;
                resultContainer.innerHTML = html;
            }

            menuItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    const moduleId = item.getAttribute('data-module');
                    setActiveMenu(moduleId);
                    renderModule(moduleId);
                });
            });

            // åˆå§‹æ¿€æ´»é¦–é¡µ
            setActiveMenu('home');
            renderModule('home');

            // å°†performSearchæŒ‚è½½åˆ°å…¨å±€ï¼Œä»¥ä¾¿onclickè°ƒç”¨
            window.performSearch = performSearch;
        })();
    </script>
</body>
</html>
